# äº¤é€šåœºæ™¯æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€åŸå¸‚åŒ–è¿›ç¨‹çš„åŠ å¿«ï¼Œäº¤é€šæµé‡çš„æ€¥å‰§å¢åŠ å¯¼è‡´äº†äº¤é€šå®‰å…¨é—®é¢˜çš„æ—¥ç›Šä¸¥é‡ã€‚äº¤é€šäº‹æ•…ä¸ä»…é€ æˆäº†äººå‘˜ä¼¤äº¡å’Œè´¢äº§æŸå¤±ï¼Œè¿˜å¯¹ç¤¾ä¼šçš„æ­£å¸¸è¿è½¬äº§ç”Ÿäº†è´Ÿé¢å½±å“ã€‚å› æ­¤ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°ç›‘æµ‹å’Œç®¡ç†äº¤é€šåœºæ™¯ï¼Œæå‡äº¤é€šå®‰å…¨æ€§ï¼Œæˆä¸ºäº†äº¤é€šç®¡ç†é¢†åŸŸäºŸå¾…è§£å†³çš„é‡è¦è¯¾é¢˜ã€‚è¿‘å¹´æ¥ï¼Œè®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„è¿…çŒ›å‘å±•ä¸ºäº¤é€šåœºæ™¯æ£€æµ‹æä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå°¤å…¶æ˜¯åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œå¦‚YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—ï¼Œå› å…¶é«˜æ•ˆæ€§å’Œå‡†ç¡®æ€§è€Œå¤‡å—å…³æ³¨ã€‚

æœ¬ç ”ç©¶æ—¨åœ¨åŸºäºæ”¹è¿›çš„YOLOv8æ¨¡å‹ï¼Œæ„å»ºä¸€ä¸ªé«˜æ•ˆçš„äº¤é€šåœºæ™¯æ£€æµ‹ç³»ç»Ÿã€‚YOLOv8ä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç»“åˆäº†æ›´ä¸ºå…ˆè¿›çš„ç‰¹å¾æå–ç½‘ç»œå’Œä¼˜åŒ–ç®—æ³•ï¼Œèƒ½å¤Ÿåœ¨ä¿è¯æ£€æµ‹ç²¾åº¦çš„åŒæ—¶æ˜¾è‘—æé«˜æ£€æµ‹é€Ÿåº¦ã€‚é€šè¿‡å¯¹äº¤é€šåœºæ™¯ä¸­å¤šç§ç›®æ ‡çš„å®æ—¶æ£€æµ‹ä¸è¯†åˆ«ï¼Œèƒ½å¤Ÿä¸ºäº¤é€šç®¡ç†éƒ¨é—¨æä¾›é‡è¦çš„æ•°æ®æ”¯æŒï¼Œè¿›è€Œå®ç°æ™ºèƒ½äº¤é€šç³»ç»Ÿçš„æ„å»ºã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«7195å¼ å›¾åƒï¼Œæ¶µç›–äº†74ä¸ªç±»åˆ«çš„äº¤é€šæ ‡å¿—ã€è½¦è¾†å’Œè¡Œäººç­‰ä¿¡æ¯ã€‚è¿™äº›ç±»åˆ«åŒ…æ‹¬ä½†ä¸é™äºäº¤é€šæ ‡å¿—ï¼ˆå¦‚é™é€Ÿæ ‡å¿—ã€ç¦æ­¢åœè½¦æ ‡å¿—ï¼‰ã€é“è·¯éšœç¢ç‰©ï¼ˆå¦‚æ–½å·¥æ ‡å¿—ã€çª„æ¡¥æ ‡å¿—ï¼‰ä»¥åŠè¡Œäººå’Œè½¦è¾†ç­‰ã€‚è¿™ä¸€ä¸°å¯Œçš„æ•°æ®é›†ä¸ºæ¨¡å‹çš„è®­ç»ƒå’Œæµ‹è¯•æä¾›äº†åšå®çš„åŸºç¡€ï¼Œä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿåœ¨å¤æ‚çš„äº¤é€šç¯å¢ƒä¸­è¿›è¡Œå‡†ç¡®çš„ç›®æ ‡æ£€æµ‹ã€‚

é€šè¿‡å¯¹è¿™äº›æ•°æ®çš„æ·±å…¥åˆ†æä¸å¤„ç†ï¼Œæœ¬ç ”ç©¶ä¸ä»…èƒ½å¤Ÿæå‡YOLOv8æ¨¡å‹åœ¨äº¤é€šåœºæ™¯ä¸­çš„åº”ç”¨æ•ˆæœï¼Œè¿˜èƒ½å¤Ÿä¸ºåç»­çš„äº¤é€šç®¡ç†ä¸å®‰å…¨ç ”ç©¶æä¾›æœ‰ä»·å€¼çš„å‚è€ƒã€‚äº¤é€šåœºæ™¯æ£€æµ‹ç³»ç»Ÿçš„æœ‰æ•ˆå®æ–½ï¼Œèƒ½å¤Ÿå®æ—¶ç›‘æµ‹äº¤é€šæµé‡ã€è¯†åˆ«äº¤é€šè¿è§„è¡Œä¸ºã€é¢„è­¦æ½œåœ¨çš„äº¤é€šäº‹æ•…ï¼Œä»è€Œä¸ºäº¤é€šç®¡ç†å†³ç­–æä¾›ç§‘å­¦ä¾æ®ï¼Œæå‡åŸå¸‚äº¤é€šçš„å®‰å…¨æ€§å’Œæµç•…æ€§ã€‚

æ­¤å¤–ï¼Œéšç€æ™ºèƒ½äº¤é€šç³»ç»Ÿçš„ä¸æ–­å‘å±•ï¼Œäº¤é€šåœºæ™¯æ£€æµ‹æŠ€æœ¯çš„åº”ç”¨å‰æ™¯å¹¿é˜”ã€‚è¯¥æŠ€æœ¯ä¸ä»…å¯ä»¥åº”ç”¨äºä¼ ç»Ÿçš„äº¤é€šç›‘æ§ï¼Œè¿˜å¯ä»¥ä¸æ— äººé©¾é©¶ã€æ™ºèƒ½å¯¼èˆªç­‰æ–°å…´æŠ€æœ¯ç›¸ç»“åˆï¼Œæ¨åŠ¨æ™ºèƒ½äº¤é€šçš„è¿›ä¸€æ­¥å‘å±•ã€‚å› æ­¤ï¼Œæœ¬ç ”ç©¶ä¸ä»…å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼ï¼Œä¹Ÿå…·æœ‰æ˜¾è‘—çš„ç¤¾ä¼šæ„ä¹‰ã€‚é€šè¿‡å¯¹äº¤é€šåœºæ™¯çš„æ·±å…¥ç ”ç©¶ä¸æ™ºèƒ½åŒ–ç®¡ç†ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½äº¤é€šäº‹æ•…å‘ç”Ÿç‡ï¼Œæå‡å…¬ä¼—çš„å‡ºè¡Œå®‰å…¨æ„Ÿï¼Œä¿ƒè¿›åŸå¸‚äº¤é€šçš„å¯æŒç»­å‘å±•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„äº¤é€šåœºæ™¯æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…ä¸ºäº¤é€šå®‰å…¨é—®é¢˜æä¾›äº†æ–°çš„è§£å†³æ€è·¯ï¼Œä¹Ÿä¸ºæœªæ¥æ™ºèƒ½äº¤é€šç³»ç»Ÿçš„æ„å»ºå¥ å®šäº†åŸºç¡€ã€‚é€šè¿‡ä¸æ–­ä¼˜åŒ–å’Œå®Œå–„è¯¥ç³»ç»Ÿï¼ŒæœŸå¾…èƒ½å¤Ÿåœ¨å®é™…åº”ç”¨ä¸­å–å¾—æ˜¾è‘—æˆæ•ˆï¼Œä¸ºäº¤é€šç®¡ç†çš„æ™ºèƒ½åŒ–å’Œç§‘å­¦åŒ–è´¡çŒ®åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1k1WQeqEdr/?spm_id_from=333.999.0.0&vd_source=ff015de2d29cbe2a9cdbfa7064407a08)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

æœ¬æ•°æ®é›†ä¸“ä¸ºæ”¹è¿›YOLOv8çš„äº¤é€šåœºæ™¯æ£€æµ‹ç³»ç»Ÿè€Œè®¾è®¡ï¼Œæ¶µç›–äº†ä¸°å¯Œçš„äº¤é€šæ ‡å¿—ã€è½¦è¾†å’Œè¡Œäººæ£€æµ‹ä¿¡æ¯ã€‚æ•°æ®é›†çš„åç§°ä¸ºâ€œTrafficsign, Car, Person-Detectionâ€ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯ä¸ºäº¤é€šç›‘æ§å’Œè‡ªåŠ¨é©¾é©¶æŠ€æœ¯æä¾›é«˜è´¨é‡çš„è®­ç»ƒæ•°æ®ï¼Œä»¥æå‡æ¨¡å‹åœ¨å¤æ‚äº¤é€šç¯å¢ƒä¸­çš„è¯†åˆ«èƒ½åŠ›å’Œå‡†ç¡®æ€§ã€‚

æ•°æ®é›†ä¸­åŒ…å«7195å¼ å›¾åƒï¼Œè¦†ç›–äº†74ä¸ªä¸åŒçš„ç±»åˆ«ã€‚è¿™äº›ç±»åˆ«ä¸ä»…åŒ…æ‹¬å¸¸è§çš„äº¤é€šæ ‡å¿—å’Œä¿¡å·ï¼Œè¿˜æ¶µç›–äº†å¤šç§äº¤é€šåœºæ™¯ä¸­çš„å…ƒç´ ï¼Œå¦‚è¡Œäººã€è½¦è¾†åŠå…¶å‘¨å›´ç¯å¢ƒã€‚è¿™ç§å¤šæ ·æ€§ä½¿å¾—æ•°æ®é›†èƒ½å¤Ÿä¸ºYOLOv8æ¨¡å‹æä¾›å…¨é¢çš„è®­ç»ƒæ”¯æŒï¼Œä»è€Œæå‡å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„è¡¨ç°ã€‚

åœ¨ç±»åˆ«åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯¸å¦‚â€œBarrier Aheadâ€ã€â€œCarâ€ã€â€œPersonâ€ç­‰åŸºæœ¬ç±»åˆ«ï¼Œè¿™äº›ç±»åˆ«åœ¨äº¤é€šåœºæ™¯ä¸­å…·æœ‰é‡è¦çš„è¯†åˆ«æ„ä¹‰ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†ä¸­è¿˜åŒ…æ‹¬äº†ä¸€ç³»åˆ—ç‰¹å®šçš„äº¤é€šæ ‡å¿—ï¼Œå¦‚â€œSpeed Limit -30-â€ã€â€œNo Parkingâ€ã€â€œPedestrian Crossingâ€ç­‰ï¼Œè¿™äº›æ ‡å¿—åœ¨ä¸åŒçš„é©¾é©¶ç¯å¢ƒä¸­èµ·ç€å…³é”®çš„æŒ‡å¼•ä½œç”¨ã€‚é€šè¿‡å¯¹è¿™äº›æ ‡å¿—çš„æœ‰æ•ˆè¯†åˆ«ï¼ŒYOLOv8æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œè§£æå¤æ‚çš„äº¤é€šæƒ…å¢ƒã€‚

æ•°æ®é›†ä¸­çš„æ¯ä¸ªç±»åˆ«éƒ½ç»è¿‡ç²¾å¿ƒæ ‡æ³¨ï¼Œç¡®ä¿äº†æ•°æ®çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œSpeed Limitâ€ç³»åˆ—ç±»åˆ«æ¶µç›–äº†ä»5åˆ°160çš„å¤šä¸ªé€Ÿåº¦é™åˆ¶æ ‡å¿—ï¼Œè¿™å¯¹äºè‡ªåŠ¨é©¾é©¶ç³»ç»Ÿåœ¨ä¸åŒé“è·¯æ¡ä»¶ä¸‹çš„å†³ç­–è‡³å…³é‡è¦ã€‚åŒæ—¶ï¼Œæ•°æ®é›†ä¸­è¿˜åŒ…æ‹¬äº†â€œMen at Workâ€ã€â€œSchool Aheadâ€ç­‰ç±»åˆ«ï¼Œè¿™äº›æ ‡å¿—åœ¨ç‰¹å®šæƒ…å†µä¸‹å¯¹é©¾é©¶å®‰å…¨å…·æœ‰ç›´æ¥å½±å“ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†è¿˜è€ƒè™‘åˆ°äº†ä¸åŒäº¤é€šåœºæ™¯çš„å¤æ‚æ€§ï¼ŒåŒ…å«äº†å¦‚â€œSlippery Roadâ€ã€â€œSteep Ascentâ€ã€â€œNarrow Bridgeâ€ç­‰ç±»åˆ«ï¼Œè¿™äº›ç±»åˆ«èƒ½å¤Ÿå¸®åŠ©æ¨¡å‹åœ¨ç‰¹å®šçš„ç¯å¢ƒæ¡ä»¶ä¸‹è¿›è¡Œæ›´ä¸ºç²¾å‡†çš„åˆ¤æ–­å’Œååº”ã€‚é€šè¿‡è¿™äº›ä¸°å¯Œçš„åœºæ™¯è®¾ç½®ï¼ŒYOLOv8æ¨¡å‹å°†èƒ½å¤Ÿåœ¨çœŸå®ä¸–ç•Œä¸­æ›´å¥½åœ°åº”å¯¹å„ç§çªå‘æƒ…å†µï¼Œæå‡å…¶æ™ºèƒ½åŒ–æ°´å¹³ã€‚

å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¯¥æ•°æ®é›†éµå¾ªCC BY 4.0è®¸å¯è¯ï¼Œå…è®¸ç”¨æˆ·åœ¨éµå¾ªç›¸åº”æ¡æ¬¾çš„å‰æä¸‹è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹æ•°æ®ã€‚è¿™ä¸ºç ”ç©¶äººå‘˜å’Œå¼€å‘è€…æä¾›äº†æå¤§çš„ä¾¿åˆ©ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿåœ¨ç°æœ‰æ•°æ®çš„åŸºç¡€ä¸Šè¿›è¡Œåˆ›æ–°å’Œæ¢ç´¢ã€‚

æ€»ä¹‹ï¼Œæœ¬æ•°æ®é›†ä¸ºYOLOv8çš„äº¤é€šåœºæ™¯æ£€æµ‹ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå…¨é¢è€Œå¤šæ ·åŒ–çš„è®­ç»ƒåŸºç¡€ã€‚é€šè¿‡å¯¹äº¤é€šæ ‡å¿—ã€è½¦è¾†å’Œè¡Œäººçš„å‡†ç¡®è¯†åˆ«ï¼Œæ¨¡å‹å°†èƒ½å¤Ÿåœ¨å¤æ‚çš„äº¤é€šç¯å¢ƒä¸­å®ç°æ›´é«˜çš„æ™ºèƒ½åŒ–æ°´å¹³ï¼Œä¸ºæœªæ¥çš„è‡ªåŠ¨é©¾é©¶å’Œäº¤é€šç®¡ç†ç³»ç»Ÿçš„å‘å±•å¥ å®šåšå®çš„åŸºç¡€ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œæ•°æ®é›†çš„æŒç»­ä¼˜åŒ–ï¼Œæˆ‘ä»¬æœŸå¾…è¯¥æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­å±•ç°å‡ºæ›´ä¸ºå“è¶Šçš„æ€§èƒ½ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°è¿›å±•ï¼Œä»£è¡¨äº†ç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦åˆ›æ–°ã€‚å®ƒåœ¨ä¿æŒå®æ—¶æ€§å’Œé«˜æ•ˆæ€§çš„åŒæ—¶ï¼Œè¿›ä¸€æ­¥æå‡äº†æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ã€‚YOLOv8çš„è®¾è®¡ç†å¿µå’Œæ¶æ„ç›¸è¾ƒäºå‰ä»£ç‰ˆæœ¬ï¼Œå°¤å…¶æ˜¯YOLOv5ï¼Œè¿›è¡Œäº†å¤šæ–¹é¢çš„ä¼˜åŒ–å’Œæ”¹è¿›ï¼Œä½¿å…¶åœ¨ä¸åŒåº”ç”¨åœºæ™¯ä¸­å±•ç°å‡ºæ›´å¼ºçš„é€‚åº”æ€§å’Œæ€§èƒ½ã€‚

é¦–å…ˆï¼ŒYOLOv8çš„ç½‘ç»œç»“æ„å¯ä»¥åˆ†ä¸ºå››ä¸ªä¸»è¦éƒ¨åˆ†ï¼šè¾“å…¥ç«¯ã€éª¨å¹²ç½‘ç»œã€é¢ˆéƒ¨ç½‘ç»œå’Œå¤´éƒ¨ç½‘ç»œã€‚è¾“å…¥ç«¯é‡‡ç”¨äº†å¤šç§æ•°æ®å¢å¼ºæŠ€æœ¯ï¼ŒåŒ…æ‹¬é©¬èµ›å…‹å¢å¼ºã€è‡ªé€‚åº”é”šæ¡†è®¡ç®—å’Œè‡ªé€‚åº”ç°åº¦å¡«å……ï¼Œè¿™äº›æŠ€æœ¯ä¸ä»…æé«˜äº†æ¨¡å‹çš„é²æ£’æ€§ï¼Œè¿˜æœ‰æ•ˆåœ°ä¸°å¯Œäº†è®­ç»ƒæ•°æ®ï¼Œå¸®åŠ©æ¨¡å‹æ›´å¥½åœ°å­¦ä¹ ç›®æ ‡ç‰¹å¾ã€‚é©¬èµ›å…‹å¢å¼ºæŠ€æœ¯é€šè¿‡å°†å¤šå¼ å›¾åƒæ‹¼æ¥æˆä¸€å¼ å›¾åƒï¼Œå¢åŠ äº†å›¾åƒçš„å¤šæ ·æ€§ï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ¥è§¦åˆ°æ›´å¤šæ ·çš„ç›®æ ‡æ ·å¼å’ŒèƒŒæ™¯ï¼Œä»è€Œæå‡å…¶æ³›åŒ–èƒ½åŠ›ã€‚

åœ¨éª¨å¹²ç½‘ç»œæ–¹é¢ï¼ŒYOLOv8å¼•å…¥äº†C2fæ¨¡å—ï¼Œè¿™ä¸€æ¨¡å—æ˜¯å¯¹YOLOv5ä¸­C3æ¨¡å—çš„ä¼˜åŒ–ã€‚C2fæ¨¡å—é‡‡ç”¨äº†æ®‹å·®è¿æ¥å’Œè·¨å±‚è¿æ¥çš„è®¾è®¡ç†å¿µï¼Œå¢å¼ºäº†æ¢¯åº¦æµçš„ä¼ é€’ï¼Œä½¿å¾—æ·±å±‚ç½‘ç»œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ›´ä¸ºç¨³å®šã€‚é€šè¿‡å¼•å…¥æ›´å¤šçš„åˆ†æ”¯å’ŒBottleneckç»“æ„ï¼ŒC2fæ¨¡å—èƒ½å¤Ÿæå–å‡ºæ›´ä¸°å¯Œçš„ç‰¹å¾ä¿¡æ¯ï¼Œä»è€Œæå‡ç‰¹å¾è¡¨ç¤ºèƒ½åŠ›ã€‚ä¸æ­¤åŒæ—¶ï¼ŒYOLOv8è¿˜ä¿ç•™äº†ç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼ˆSPPFï¼‰æ¨¡å—ï¼Œä»¥è¿›ä¸€æ­¥å¢å¼ºå¯¹å¤šå°ºåº¦ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚

é¢ˆéƒ¨ç½‘ç»œé‡‡ç”¨äº†è·¯å¾„èšåˆç½‘ç»œï¼ˆPANï¼‰ç»“æ„ï¼Œè¿™ä¸€ç»“æ„æ—¨åœ¨åŠ å¼ºä¸åŒå°ºåº¦ç‰¹å¾çš„èåˆèƒ½åŠ›ã€‚PANé€šè¿‡è‡ªä¸‹è€Œä¸Šçš„ç‰¹å¾èåˆï¼Œå°†é«˜å±‚ç‰¹å¾ä¸ä¸­å±‚å’Œæµ…å±‚ç‰¹å¾è¿›è¡Œæœ‰æ•ˆç»“åˆï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°ç›®æ ‡çš„ç»†èŠ‚ä¿¡æ¯å’Œè¯­ä¹‰ä¿¡æ¯ã€‚è¿™ç§ç‰¹å¾èåˆçš„ç­–ç•¥ï¼Œä½¿å¾—YOLOv8åœ¨å¤„ç†ä¸åŒå¤§å°çš„ç›®æ ‡æ—¶ï¼Œèƒ½å¤Ÿæ›´ä¸ºç²¾å‡†åœ°è¿›è¡Œæ£€æµ‹ã€‚

å¤´éƒ¨ç½‘ç»œåˆ™æ˜¯YOLOv8çš„å¦ä¸€å¤§äº®ç‚¹ã€‚ä¸ä»¥å¾€çš„è€¦åˆå¤´ä¸åŒï¼ŒYOLOv8é‡‡ç”¨äº†è§£è€¦ç»“æ„ï¼Œå°†åˆ†ç±»å’Œå›å½’è¿‡ç¨‹åˆ†å¼€è¿›è¡Œã€‚è¿™ç§è®¾è®¡ä¸ä»…ç®€åŒ–äº†æ¨¡å‹çš„å¤æ‚æ€§ï¼Œè¿˜æé«˜äº†æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚YOLOv8çš„å¤´éƒ¨ç½‘ç»œä½¿ç”¨äº†æ— é”šæ¡†ï¼ˆAnchor-Freeï¼‰æ£€æµ‹ç­–ç•¥ï¼Œå‡å°‘äº†é”šæ¡†é¢„æµ‹çš„æ•°é‡ï¼Œä»è€ŒåŠ é€Ÿäº†éæœ€å¤§æŠ‘åˆ¶ï¼ˆNMSï¼‰è¿‡ç¨‹ï¼Œæé«˜äº†æ•´ä½“æ£€æµ‹é€Ÿåº¦ã€‚æŸå¤±è®¡ç®—æ–¹é¢ï¼ŒYOLOv8å¼•å…¥äº†Task-Aligned Assignerç­–ç•¥ï¼Œæ ¹æ®åˆ†ç±»ä¸å›å½’çš„åˆ†æ•°åŠ æƒç»“æœé€‰æ‹©æ­£æ ·æœ¬ï¼Œç»“åˆäºŒå…ƒäº¤å‰ç†µæŸå¤±ï¼ˆBCELossï¼‰å’Œåˆ†å¸ƒç„¦ç‚¹æŸå¤±ï¼ˆDFLossï¼‰ä»¥åŠå®Œå…¨äº¤å¹¶æ¯”æŸå¤±ï¼ˆCIOULossï¼‰ï¼Œä½¿å¾—æ¨¡å‹åœ¨è¾¹ç•Œæ¡†é¢„æµ‹çš„å‡†ç¡®æ€§ä¸Šå¾—åˆ°äº†æ˜¾è‘—æå‡ã€‚

åœ¨YOLOv8çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ ·æœ¬åŒ¹é…ç­–ç•¥çš„æ”¹è¿›ä¹Ÿæ˜¯å…¶ä¸€å¤§äº®ç‚¹ã€‚é€šè¿‡å°†é™æ€åŒ¹é…æ”¹ä¸ºTask-Alignedçš„AssigneråŒ¹é…æ–¹å¼ï¼ŒYOLOv8èƒ½å¤Ÿæ›´çµæ´»åœ°é€‚åº”ä¸åŒçš„æ ·æœ¬åˆ†å¸ƒï¼Œç‰¹åˆ«æ˜¯åœ¨é¢å¯¹æ­£è´Ÿæ ·æœ¬ä¸å¹³è¡¡çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæé«˜æ¨¡å‹çš„å­¦ä¹ æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚æ­¤å¤–ï¼ŒYOLOv8åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šä¹Ÿè¿›è¡Œäº†åˆ›æ–°ï¼Œé‡‡ç”¨äº†å˜ç„¦æŸå¤±ï¼ˆVFLLossï¼‰æ¥è®¡ç®—åˆ†ç±»æŸå¤±ï¼Œå¹¶ç»“åˆæ•°æ®å¹³å‡ä¿çœŸåº¦æŸå¤±å’Œå®Œç¾äº¤å¹¶æ¯”æŸå¤±æ¥è®¡ç®—è¾¹ç•Œæ¡†æŸå¤±ï¼Œè¿™ä¸€ç­–ç•¥ä½¿å¾—YOLOv8åœ¨ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦ä¸Šæ›´å…·ä¼˜åŠ¿ã€‚

YOLOv8çš„è½»é‡åŒ–è®¾è®¡ä¹Ÿå€¼å¾—ä¸€æã€‚é€šè¿‡å¯¹æ¨¡å‹ç»“æ„çš„ç²¾ç®€å’Œä¼˜åŒ–ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨ä¿æŒé«˜æ£€æµ‹ç²¾åº¦çš„åŒæ—¶ï¼Œæ˜¾è‘—é™ä½æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—å¤æ‚åº¦ã€‚è¿™ä½¿å¾—YOLOv8åœ¨è¾¹ç¼˜è®¾å¤‡å’Œå®æ—¶åº”ç”¨ä¸­è¡¨ç°å‡ºè‰²ï¼Œèƒ½å¤Ÿåœ¨ä¿è¯å®æ—¶æ€§çš„å‰æä¸‹ï¼Œæä¾›é«˜è´¨é‡çš„ç›®æ ‡æ£€æµ‹ç»“æœã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8åœ¨å¤šä¸ªæ–¹é¢çš„åˆ›æ–°å’Œæ”¹è¿›ï¼Œä½¿å…¶æˆä¸ºå½“å‰ç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦æŠ€æœ¯ã€‚é€šè¿‡å¼•å…¥æ–°çš„ç½‘ç»œç»“æ„ã€ä¼˜åŒ–çš„æŸå¤±å‡½æ•°å’Œé«˜æ•ˆçš„æ ·æœ¬åŒ¹é…ç­–ç•¥ï¼ŒYOLOv8ä¸ä»…æå‡äº†æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ï¼Œè¿˜åœ¨å¤šç§åº”ç”¨åœºæ™¯ä¸­å±•ç°å‡ºå¼ºå¤§çš„é€‚åº”æ€§å’Œçµæ´»æ€§ã€‚éšç€YOLOv8çš„ä¸æ–­å‘å±•å’Œåº”ç”¨ï¼Œæœªæ¥çš„ç›®æ ‡æ£€æµ‹æŠ€æœ¯å°†æ›´åŠ æ™ºèƒ½å’Œé«˜æ•ˆã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 ultralytics\models\rtdetr\train.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œåˆ†æå’Œè¯¦ç»†æ³¨é‡Šçš„ç»“æœï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

from copy import copy
import torch
from ultralytics.models.yolo.detect import DetectionTrainer
from ultralytics.nn.tasks import RTDETRDetectionModel
from ultralytics.utils import RANK, colorstr
from .val import RTDETRDataset, RTDETRValidator

class RTDETRTrainer(DetectionTrainer):
    """
    RT-DETRæ¨¡å‹çš„è®­ç»ƒç±»ï¼Œæ‰©å±•è‡ªYOLOçš„DetectionTrainerç±»ï¼Œé€‚åº”RT-DETRç‰¹æœ‰çš„ç‰¹æ€§å’Œæ¶æ„ã€‚
    RT-DETRæ¨¡å‹åˆ©ç”¨è§†è§‰å˜æ¢å™¨ï¼Œå…·å¤‡IoUæ„ŸçŸ¥æŸ¥è¯¢é€‰æ‹©å’Œå¯è°ƒæ¨ç†é€Ÿåº¦ç­‰èƒ½åŠ›ã€‚
    """

    def get_model(self, cfg=None, weights=None, verbose=True):
        """
        åˆå§‹åŒ–å¹¶è¿”å›ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„RT-DETRæ¨¡å‹ã€‚

        Args:
            cfg (dict, optional): æ¨¡å‹é…ç½®ï¼Œé»˜è®¤ä¸ºNoneã€‚
            weights (str, optional): é¢„è®­ç»ƒæ¨¡å‹æƒé‡çš„è·¯å¾„ï¼Œé»˜è®¤ä¸ºNoneã€‚
            verbose (bool): å¦‚æœä¸ºTrueï¼Œåˆ™å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼Œé»˜è®¤ä¸ºTrueã€‚

        Returns:
            (RTDETRDetectionModel): åˆå§‹åŒ–åçš„æ¨¡å‹ã€‚
        """
        # åˆ›å»ºRT-DETRæ£€æµ‹æ¨¡å‹å®ä¾‹
        model = RTDETRDetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)
        # å¦‚æœæä¾›äº†æƒé‡ï¼Œåˆ™åŠ è½½æƒé‡
        if weights:
            model.load(weights)
        return model

    def build_dataset(self, img_path, mode="val", batch=None):
        """
        æ„å»ºå¹¶è¿”å›ç”¨äºè®­ç»ƒæˆ–éªŒè¯çš„RT-DETRæ•°æ®é›†ã€‚

        Args:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ•°æ®é›†æ¨¡å¼ï¼Œå¯ä»¥æ˜¯'train'æˆ–'val'ã€‚
            batch (int, optional): çŸ©å½¢è®­ç»ƒçš„æ‰¹é‡å¤§å°ï¼Œé»˜è®¤ä¸ºNoneã€‚

        Returns:
            (RTDETRDataset): ç‰¹å®šæ¨¡å¼çš„æ•°æ®é›†å¯¹è±¡ã€‚
        """
        # åˆ›å»ºRT-DETRæ•°æ®é›†å®ä¾‹
        return RTDETRDataset(
            img_path=img_path,
            imgsz=self.args.imgsz,  # å›¾åƒå¤§å°
            batch_size=batch,        # æ‰¹é‡å¤§å°
            augment=mode == "train", # å¦‚æœæ˜¯è®­ç»ƒæ¨¡å¼ï¼Œåˆ™å¯ç”¨æ•°æ®å¢å¼º
            hyp=self.args,          # è¶…å‚æ•°
            rect=False,             # æ˜¯å¦ä½¿ç”¨çŸ©å½¢è®­ç»ƒ
            cache=self.args.cache or None, # ç¼“å­˜è®¾ç½®
            prefix=colorstr(f"{mode}: "), # å‰ç¼€é¢œè‰²å­—ç¬¦ä¸²
            data=self.data,         # æ•°æ®é›†ä¿¡æ¯
        )

    def get_validator(self):
        """
        è¿”å›é€‚åˆRT-DETRæ¨¡å‹éªŒè¯çš„DetectionValidatorã€‚

        Returns:
            (RTDETRValidator): æ¨¡å‹éªŒè¯å™¨å¯¹è±¡ã€‚
        """
        self.loss_names = "giou_loss", "cls_loss", "l1_loss"  # å®šä¹‰æŸå¤±åç§°
        # åˆ›å»ºRT-DETRéªŒè¯å™¨å®ä¾‹
        return RTDETRValidator(self.test_loader, save_dir=self.save_dir, args=copy(self.args))

    def preprocess_batch(self, batch):
        """
        é¢„å¤„ç†ä¸€æ‰¹å›¾åƒã€‚å¯¹å›¾åƒè¿›è¡Œç¼©æ”¾å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ ¼å¼ã€‚

        Args:
            batch (dict): åŒ…å«ä¸€æ‰¹å›¾åƒã€è¾¹ç•Œæ¡†å’Œæ ‡ç­¾çš„å­—å…¸ã€‚

        Returns:
            (dict): é¢„å¤„ç†åçš„æ‰¹æ¬¡ã€‚
        """
        # è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•è¿›è¡Œé¢„å¤„ç†
        batch = super().preprocess_batch(batch)
        bs = len(batch["img"])  # æ‰¹æ¬¡å¤§å°
        batch_idx = batch["batch_idx"]  # æ‰¹æ¬¡ç´¢å¼•
        gt_bbox, gt_class = [], []  # åˆå§‹åŒ–çœŸå®è¾¹ç•Œæ¡†å’Œç±»åˆ«åˆ—è¡¨
        
        # éå†æ¯ä¸ªæ ·æœ¬ï¼Œæå–çœŸå®è¾¹ç•Œæ¡†å’Œç±»åˆ«
        for i in range(bs):
            gt_bbox.append(batch["bboxes"][batch_idx == i].to(batch_idx.device))  # è·å–çœŸå®è¾¹ç•Œæ¡†
            gt_class.append(batch["cls"][batch_idx == i].to(device=batch_idx.device, dtype=torch.long))  # è·å–çœŸå®ç±»åˆ«
        return batch  # è¿”å›é¢„å¤„ç†åçš„æ‰¹æ¬¡
```

### æ ¸å¿ƒéƒ¨åˆ†åˆ†æï¼š
1. **RTDETRTrainerç±»**ï¼šè¯¥ç±»æ˜¯RT-DETRæ¨¡å‹çš„è®­ç»ƒç±»ï¼Œç»§æ‰¿è‡ªYOLOçš„DetectionTrainerï¼Œè´Ÿè´£æ¨¡å‹çš„è®­ç»ƒå’ŒéªŒè¯ã€‚
2. **get_modelæ–¹æ³•**ï¼šç”¨äºåˆå§‹åŒ–RT-DETRæ¨¡å‹ï¼Œå¹¶åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
3. **build_datasetæ–¹æ³•**ï¼šæ„å»ºè®­ç»ƒæˆ–éªŒè¯æ•°æ®é›†ï¼Œæ”¯æŒæ•°æ®å¢å¼ºå’Œæ‰¹é‡å¤„ç†ã€‚
4. **get_validatoræ–¹æ³•**ï¼šè¿”å›ç”¨äºæ¨¡å‹éªŒè¯çš„éªŒè¯å™¨ï¼Œå®šä¹‰äº†æŸå¤±åç§°ã€‚
5. **preprocess_batchæ–¹æ³•**ï¼šå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼Œæå–çœŸå®çš„è¾¹ç•Œæ¡†å’Œç±»åˆ«ä¿¡æ¯ã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†æ„æˆäº†RT-DETRæ¨¡å‹è®­ç»ƒçš„åŸºç¡€é€»è¾‘ï¼Œç¡®ä¿æ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆåœ°è¿›è¡Œç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

è¯¥æ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®ä¸­çš„ä¸€ä¸ªè®­ç»ƒæ¨¡å—ï¼Œä¸“é—¨ç”¨äºRT-DETRï¼ˆReal-Time DEtection TRansformerï¼‰æ¨¡å‹çš„è®­ç»ƒã€‚RT-DETRæ˜¯ç™¾åº¦å¼€å‘çš„ä¸€ç§å®æ—¶ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œç»“åˆäº†è§†è§‰å˜æ¢å™¨ï¼ˆVision Transformersï¼‰å’Œå…¶ä»–å…ˆè¿›æŠ€æœ¯ï¼Œå¦‚IoUæ„ŸçŸ¥æŸ¥è¯¢é€‰æ‹©å’Œå¯è°ƒçš„æ¨ç†é€Ÿåº¦ã€‚è¯¥æ¨¡å—ç»§æ‰¿è‡ªYOLOçš„DetectionTrainerç±»ï¼Œé€‚åº”RT-DETRæ¨¡å‹çš„ç‰¹æ€§å’Œæ¶æ„ã€‚

æ–‡ä»¶çš„å¼€å¤´éƒ¨åˆ†åŒ…å«äº†ä¸€äº›é‡è¦çš„æ³¨é‡Šï¼Œè¯´æ˜äº†RT-DETRæ¨¡å‹çš„ä¸€äº›ç‰¹ç‚¹å’Œæ³¨æ„äº‹é¡¹ï¼Œä¾‹å¦‚F.grid_sampleåœ¨RT-DETRä¸­ä¸æ”¯æŒ`deterministic=True`å‚æ•°ï¼ŒAMPï¼ˆè‡ªåŠ¨æ··åˆç²¾åº¦ï¼‰è®­ç»ƒå¯èƒ½å¯¼è‡´NaNè¾“å‡ºå’Œåœ¨äºŒåˆ†å›¾åŒ¹é…æ—¶å‡ºç°é”™è¯¯ã€‚

åœ¨ç±»RTDETRTrainerä¸­ï¼Œå®šä¹‰äº†å¤šä¸ªæ–¹æ³•æ¥å®ç°æ¨¡å‹çš„è®­ç»ƒå’ŒéªŒè¯ã€‚é¦–å…ˆï¼Œ`get_model`æ–¹æ³•ç”¨äºåˆå§‹åŒ–å¹¶è¿”å›ä¸€ä¸ªRT-DETRæ¨¡å‹ï¼Œæ”¯æŒä¼ å…¥æ¨¡å‹é…ç½®å’Œé¢„è®­ç»ƒæƒé‡çš„è·¯å¾„ã€‚è¿™ä¸ªæ–¹æ³•ä¼šæ ¹æ®ä¼ å…¥çš„é…ç½®å’Œç±»åˆ«æ•°é‡ï¼ˆncï¼‰åˆ›å»ºRTDETRDetectionModelå®ä¾‹ï¼Œå¹¶åœ¨æœ‰æƒé‡çš„æƒ…å†µä¸‹åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ã€‚

`build_dataset`æ–¹æ³•ç”¨äºæ„å»ºå’Œè¿”å›RT-DETRæ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ã€‚å®ƒæ¥å—å›¾åƒè·¯å¾„ã€æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰å’Œæ‰¹é‡å¤§å°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªRTDETRDatasetå¯¹è±¡ï¼Œè´Ÿè´£å¤„ç†å›¾åƒçš„åŠ è½½å’Œå¢å¼ºã€‚

`get_validator`æ–¹æ³•è¿”å›ä¸€ä¸ªé€‚ç”¨äºRT-DETRæ¨¡å‹éªŒè¯çš„æ£€æµ‹éªŒè¯å™¨RTDETRValidatorã€‚è¿™ä¸ªæ–¹æ³•è¿˜å®šä¹‰äº†æŸå¤±åç§°ï¼ŒåŒ…æ‹¬giou_lossã€cls_losså’Œl1_lossï¼Œç”¨äºåç»­çš„æŸå¤±è®¡ç®—å’Œæ¨¡å‹è¯„ä¼°ã€‚

æœ€åï¼Œ`preprocess_batch`æ–¹æ³•ç”¨äºå¯¹ä¸€æ‰¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ã€‚å®ƒè°ƒç”¨äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¹¶å¯¹å›¾åƒè¿›è¡Œç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ ¼å¼ã€‚è¯¥æ–¹æ³•è¿˜å¤„ç†äº†æ¯ä¸ªå›¾åƒçš„çœŸå®è¾¹ç•Œæ¡†ï¼ˆgt_bboxï¼‰å’Œç±»åˆ«ï¼ˆgt_classï¼‰ï¼Œç¡®ä¿å®ƒä»¬åœ¨åŒä¸€è®¾å¤‡ä¸Šå¹¶å…·æœ‰æ­£ç¡®çš„æ•°æ®ç±»å‹ã€‚

æ•´ä½“è€Œè¨€ï¼Œè¯¥æ–‡ä»¶ä¸ºRT-DETRæ¨¡å‹çš„è®­ç»ƒæä¾›äº†å¿…è¦çš„ç»“æ„å’ŒåŠŸèƒ½ï¼Œç¡®ä¿æ¨¡å‹èƒ½å¤Ÿé«˜æ•ˆåœ°è¿›è¡Œç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

#### 11.2 ultralytics\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# å¯¼å…¥æ‰€éœ€çš„åº“å’Œæ¨¡å—
from ultralytics.models import YOLO  # å¯¼å…¥YOLOæ¨¡å‹
from ultralytics.utils import SETTINGS as settings  # å¯¼å…¥è®¾ç½®é…ç½®
from ultralytics.utils.checks import check_yolo as checks  # å¯¼å…¥YOLOæ£€æŸ¥å·¥å…·
from ultralytics.utils.downloads import download  # å¯¼å…¥ä¸‹è½½å·¥å…·

# å®šä¹‰å¯å¯¼å‡ºçš„æ¨¡å—å†…å®¹
__all__ = "__version__", "YOLO", "checks", "download", "settings"
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `from ultralytics.models import YOLO`ï¼šå¯¼å…¥YOLOæ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚
   - `from ultralytics.utils import SETTINGS as settings`ï¼šå¯¼å…¥è®¾ç½®é…ç½®ï¼Œé€šå¸¸åŒ…å«æ¨¡å‹è®­ç»ƒå’Œæ¨ç†çš„å‚æ•°è®¾ç½®ã€‚
   - `from ultralytics.utils.checks import check_yolo as checks`ï¼šå¯¼å…¥YOLOæ£€æŸ¥å·¥å…·ï¼Œç”¨äºéªŒè¯YOLOæ¨¡å‹çš„æœ‰æ•ˆæ€§å’Œå…¼å®¹æ€§ã€‚
   - `from ultralytics.utils.downloads import download`ï¼šå¯¼å…¥ä¸‹è½½å·¥å…·ï¼Œå¯èƒ½ç”¨äºä¸‹è½½æ¨¡å‹æƒé‡æˆ–æ•°æ®é›†ã€‚

2. **å®šä¹‰å¯å¯¼å‡ºçš„æ¨¡å—å†…å®¹**ï¼š
   - `__all__`ï¼šè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œç”¨äºå®šä¹‰å½“ä½¿ç”¨`from module import *`æ—¶ï¼Œå“ªäº›æ¨¡å—å†…å®¹æ˜¯å¯ä»¥è¢«å¯¼å‡ºçš„ã€‚åœ¨è¿™é‡Œï¼Œå¯¼å‡ºäº†ç‰ˆæœ¬ä¿¡æ¯ã€YOLOæ¨¡å‹ã€æ£€æŸ¥å·¥å…·ã€ä¸‹è½½å·¥å…·å’Œè®¾ç½®é…ç½®ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOåº“çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸º`__init__.py`ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å®šä¹‰åŒ…çš„ç‰ˆæœ¬ã€å¯¼å…¥æ¨¡å—ä»¥åŠè®¾ç½®å¯å¯¼å‡ºçš„å†…å®¹ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªç‰ˆæœ¬å·`__version__`ï¼Œå…¶å€¼ä¸º"8.1.3"ï¼Œè¿™è¡¨æ˜å½“å‰åº“çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ–¹ä¾¿ç”¨æˆ·å’Œå¼€å‘è€…äº†è§£ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶é€šè¿‡`from ... import ...`è¯­å¥å¯¼å…¥äº†å¤šä¸ªæ¨¡å—å’Œç±»ã€‚è¿™äº›å¯¼å…¥çš„å†…å®¹åŒ…æ‹¬ï¼š

- `Explorer`ï¼šæ¥è‡ª`ultralytics.data.explorer.explorer`æ¨¡å—ï¼Œå¯èƒ½æ˜¯ç”¨äºæ•°æ®æ¢ç´¢æˆ–å¯è§†åŒ–çš„å·¥å…·ã€‚
- `RTDETR`ã€`SAM`ã€`YOLO`ï¼šè¿™äº›æ˜¯æ¥è‡ª`ultralytics.models`æ¨¡å—çš„æ¨¡å‹ç±»ï¼Œåˆ†åˆ«ä»£è¡¨ä¸åŒçš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ã€‚
- `FastSAM`ï¼šæ¥è‡ª`ultralytics.models.fastsam`æ¨¡å—ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„SAMæ¨¡å‹å®ç°ã€‚
- `NAS`ï¼šæ¥è‡ª`ultralytics.models.nas`æ¨¡å—ï¼Œå¯èƒ½ä¸ç¥ç»æ¶æ„æœç´¢ç›¸å…³çš„æ¨¡å‹ã€‚
- `SETTINGS`ï¼šä»`ultralytics.utils`æ¨¡å—å¯¼å…¥çš„è®¾ç½®ï¼Œå¯èƒ½åŒ…å«åº“çš„é…ç½®é€‰é¡¹ã€‚
- `check_yolo`ï¼šæ¥è‡ª`ultralytics.utils.checks`æ¨¡å—çš„æ£€æŸ¥å‡½æ•°ï¼Œç”¨äºéªŒè¯YOLOæ¨¡å‹çš„æœ‰æ•ˆæ€§ã€‚
- `download`ï¼šæ¥è‡ª`ultralytics.utils.downloads`æ¨¡å—çš„ä¸‹è½½åŠŸèƒ½ï¼Œå¯èƒ½ç”¨äºä¸‹è½½æ¨¡å‹æˆ–æ•°æ®é›†ã€‚

æœ€åï¼Œ`__all__`å˜é‡å®šä¹‰äº†å½“ä½¿ç”¨`from ultralytics import *`è¯­å¥æ—¶ï¼Œå“ªäº›åç§°ä¼šè¢«å¯¼å…¥ã€‚è¿™é‡Œåˆ—å‡ºäº†ç‰ˆæœ¬å·ã€æ¨¡å‹ç±»ã€æ£€æŸ¥å‡½æ•°ã€ä¸‹è½½åŠŸèƒ½ã€è®¾ç½®å’ŒExplorerå·¥å…·ã€‚è¿™ç§åšæ³•æœ‰åŠ©äºæ§åˆ¶æ¨¡å—çš„å…¬å…±æ¥å£ï¼Œç¡®ä¿ç”¨æˆ·åªæ¥è§¦åˆ°å¿…è¦çš„éƒ¨åˆ†ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOåº“çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè´Ÿè´£åˆå§‹åŒ–åº“çš„åŸºæœ¬ä¿¡æ¯å’ŒåŠŸèƒ½æ¨¡å—ï¼Œä¾¿äºç”¨æˆ·è¿›è¡Œç›®æ ‡æ£€æµ‹å’Œç›¸å…³ä»»åŠ¡çš„å¼€å‘ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šæ‚¨çš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œç›´æ¥æŒ‡å®šè„šæœ¬è·¯å¾„

    # è¿è¡Œè„šæœ¬
    run_script(script_path)  # è°ƒç”¨å‡½æ•°æ‰§è¡Œè„šæœ¬
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç´§å¯†ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `subprocess`ï¼šç”¨äºåˆ›å»ºæ–°è¿›ç¨‹ã€è¿æ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶è·å–å®ƒä»¬çš„è¿”å›ç ã€‚

2. **å®šä¹‰ `run_script` å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿è„šæœ¬åœ¨å½“å‰ç¯å¢ƒä¸­è¿è¡Œã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - ä½¿ç”¨ `if __name__ == "__main__":` ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `web.py`ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒè¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ã€‚ä»£ç ä¸­é¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œä»¥åŠä¸€ä¸ªè‡ªå®šä¹‰çš„è·¯å¾„å¤„ç†æ¨¡å— `abs_path`ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œç¨‹åºæ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¯¥å‚æ•°æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°å†…éƒ¨é¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™é€šè¿‡ `sys.executable` å®ç°ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™ä¸ªå‘½ä»¤çš„æ ¼å¼æ˜¯ `"{python_path}" -m streamlit run "{script_path}"`ï¼Œå…¶ä¸­ `python_path` æ˜¯å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œ`script_path` æ˜¯è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ã€‚

ç„¶åï¼Œç¨‹åºä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œ`shell=True` å‚æ•°è¡¨ç¤ºåœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚æ‰§è¡Œåï¼Œç¨‹åºæ£€æŸ¥è¿”å›çš„ç»“æœç ï¼Œå¦‚æœç»“æœç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç ã€‚åœ¨è¿™é‡Œï¼ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ä¸º `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ä¸»è¦ç›®çš„æ˜¯æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£æ¥è¿è¡Œä¸€ä¸ª Streamlit åº”ç”¨è„šæœ¬ï¼Œæ–¹ä¾¿ç”¨æˆ·åœ¨å½“å‰ Python ç¯å¢ƒä¸­å¯åŠ¨å’Œæµ‹è¯•åº”ç”¨ã€‚

#### 11.4 ultralytics\utils\files.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import os
from pathlib import Path
from contextlib import contextmanager

@contextmanager
def spaces_in_path(path):
    """
    å¤„ç†è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚å¦‚æœè·¯å¾„åŒ…å«ç©ºæ ¼ï¼Œåˆ™ç”¨ä¸‹åˆ’çº¿æ›¿æ¢å®ƒä»¬ï¼Œ
    å¤åˆ¶æ–‡ä»¶/ç›®å½•åˆ°æ–°è·¯å¾„ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä»£ç å—ï¼Œç„¶åå°†æ–‡ä»¶/ç›®å½•å¤åˆ¶å›åŸå§‹ä½ç½®ã€‚

    å‚æ•°:
        path (str | Path): åŸå§‹è·¯å¾„ã€‚

    è¿”å›:
        (Path): å¦‚æœè·¯å¾„ä¸­æœ‰ç©ºæ ¼ï¼Œåˆ™è¿”å›æ›¿æ¢ä¸‹åˆ’çº¿çš„ä¸´æ—¶è·¯å¾„ï¼Œå¦åˆ™è¿”å›åŸå§‹è·¯å¾„ã€‚
    """
    if " " in str(path):
        path = Path(path)  # å°†è·¯å¾„è½¬æ¢ä¸ºPathå¯¹è±¡
        with tempfile.TemporaryDirectory() as tmp_dir:  # åˆ›å»ºä¸´æ—¶ç›®å½•
            tmp_path = Path(tmp_dir) / path.name.replace(" ", "_")  # æ›¿æ¢ç©ºæ ¼ä¸ºä¸‹åˆ’çº¿çš„è·¯å¾„

            # å¤åˆ¶æ–‡ä»¶/ç›®å½•
            if path.is_dir():
                shutil.copytree(path, tmp_path)  # å¤åˆ¶ç›®å½•
            elif path.is_file():
                shutil.copy2(path, tmp_path)  # å¤åˆ¶æ–‡ä»¶

            try:
                yield tmp_path  # è¿”å›ä¸´æ—¶è·¯å¾„
            finally:
                # å°†æ–‡ä»¶/ç›®å½•å¤åˆ¶å›åŸå§‹ä½ç½®
                if tmp_path.is_dir():
                    shutil.copytree(tmp_path, path, dirs_exist_ok=True)
                elif tmp_path.is_file():
                    shutil.copy2(tmp_path, path)

    else:
        yield path  # å¦‚æœæ²¡æœ‰ç©ºæ ¼ï¼Œç›´æ¥è¿”å›åŸå§‹è·¯å¾„


def increment_path(path, exist_ok=False, sep="", mkdir=False):
    """
    å¢åŠ æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ï¼Œå³å°†è·¯å¾„åé¢åŠ ä¸Šæ•°å­—ï¼Œä¾‹å¦‚ runs/exp --> runs/exp{sep}2, runs/exp{sep}3 ç­‰ã€‚

    å‚æ•°:
        path (str, pathlib.Path): è¦å¢åŠ çš„è·¯å¾„ã€‚
        exist_ok (bool, optional): å¦‚æœä¸ºTrueï¼Œåˆ™è·¯å¾„ä¸ä¼šå¢åŠ ï¼Œç›´æ¥è¿”å›åŸè·¯å¾„ã€‚é»˜è®¤ä¸ºFalseã€‚
        sep (str, optional): è·¯å¾„å’Œå¢åŠ æ•°å­—ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚é»˜è®¤ä¸º''ã€‚
        mkdir (bool, optional): å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºç›®å½•ã€‚é»˜è®¤ä¸ºFalseã€‚

    è¿”å›:
        (pathlib.Path): å¢åŠ åçš„è·¯å¾„ã€‚
    """
    path = Path(path)  # è½¬æ¢ä¸ºPathå¯¹è±¡
    if path.exists() and not exist_ok:
        path, suffix = (path.with_suffix(""), path.suffix) if path.is_file() else (path, "")

        # æ–¹æ³•1ï¼šå¢åŠ è·¯å¾„
        for n in range(2, 9999):
            p = f"{path}{sep}{n}{suffix}"  # å¢åŠ è·¯å¾„
            if not os.path.exists(p):
                break
        path = Path(p)

    if mkdir:
        path.mkdir(parents=True, exist_ok=True)  # åˆ›å»ºç›®å½•

    return path  # è¿”å›å¢åŠ åçš„è·¯å¾„


def file_size(path):
    """è¿”å›æ–‡ä»¶/ç›®å½•çš„å¤§å°ï¼ˆMBï¼‰ã€‚"""
    if isinstance(path, (str, Path)):
        mb = 1 << 20  # å­—èŠ‚è½¬ä¸ºMB (1024 ** 2)
        path = Path(path)
        if path.is_file():
            return path.stat().st_size / mb  # è¿”å›æ–‡ä»¶å¤§å°
        elif path.is_dir():
            return sum(f.stat().st_size for f in path.glob("**/*") if f.is_file()) / mb  # è¿”å›ç›®å½•å¤§å°
    return 0.0  # å¦‚æœè·¯å¾„æ— æ•ˆï¼Œè¿”å›0.0
```

### ä»£ç è¯´æ˜ï¼š
1. **spaces_in_path**: è¿™æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œç”¨äºå¤„ç†è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼çš„æƒ…å†µã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶è·¯å¾„ï¼Œå°†åŸå§‹è·¯å¾„ä¸­çš„ç©ºæ ¼æ›¿æ¢ä¸ºä¸‹åˆ’çº¿ï¼Œå¹¶åœ¨æ‰§è¡Œä»£ç å—åå°†æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶å›åŸå§‹ä½ç½®ã€‚

2. **increment_path**: è¿™ä¸ªå‡½æ•°ç”¨äºå¢åŠ æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ï¼Œç¡®ä¿ç”Ÿæˆçš„è·¯å¾„æ˜¯å”¯ä¸€çš„ã€‚å®ƒä¼šåœ¨è·¯å¾„åæ·»åŠ ä¸€ä¸ªæ•°å­—ï¼Œå¦‚æœè·¯å¾„å·²ç»å­˜åœ¨ä¸”`exist_ok`ä¸º`False`ï¼Œåˆ™ä¼šç»§ç»­å¢åŠ æ•°å­—ã€‚

3. **file_size**: è¿™ä¸ªå‡½æ•°ç”¨äºè¿”å›æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„å¤§å°ï¼Œä»¥MBä¸ºå•ä½ã€‚å¦‚æœè·¯å¾„æ˜¯æ–‡ä»¶ï¼Œåˆ™è¿”å›æ–‡ä»¶å¤§å°ï¼›å¦‚æœè·¯å¾„æ˜¯ç›®å½•ï¼Œåˆ™è¿”å›ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®ä¸­çš„ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œä¸»è¦ç”¨äºå¤„ç†æ–‡ä»¶å’Œç›®å½•çš„æ“ä½œã€‚å®ƒåŒ…å«äº†ä¸€äº›æœ‰ç”¨çš„ç±»å’Œå‡½æ•°ï¼Œå¸®åŠ©ç”¨æˆ·åœ¨è¿›è¡Œæ–‡ä»¶ç®¡ç†æ—¶æ›´ä¸ºæ–¹ä¾¿å’Œé«˜æ•ˆã€‚

é¦–å…ˆï¼Œæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ª`WorkingDirectory`ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œç”¨äºä¸´æ—¶æ›´æ”¹å½“å‰å·¥ä½œç›®å½•ã€‚é€šè¿‡è£…é¥°å™¨æˆ–`with`è¯­å¥ï¼Œå¯ä»¥åœ¨æŒ‡å®šçš„æ–°ç›®å½•ä¸­æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œå®Œæ¯•åä¼šè‡ªåŠ¨æ¢å¤åˆ°åŸæ¥çš„å·¥ä½œç›®å½•ã€‚è¿™å¯¹äºéœ€è¦åœ¨ç‰¹å®šç›®å½•ä¸‹æ‰§è¡Œä¸€ç³»åˆ—æ“ä½œçš„åœºæ™¯éå¸¸æœ‰ç”¨ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º`spaces_in_path`çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œç”¨äºå¤„ç†è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼çš„æƒ…å†µã€‚å¦‚æœè·¯å¾„ä¸­æœ‰ç©ºæ ¼ï¼Œå®ƒä¼šå°†ç©ºæ ¼æ›¿æ¢ä¸ºä¸‹åˆ’çº¿ï¼Œå¹¶å°†æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸´æ—¶è·¯å¾„ä¸­ã€‚åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä»£ç å—åï¼Œå†å°†æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶å›åŸæ¥çš„ä½ç½®ã€‚è¿™ç§å¤„ç†æ–¹å¼å¯ä»¥é¿å…åœ¨æŸäº›æƒ…å†µä¸‹å› è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼è€Œå¯¼è‡´çš„é—®é¢˜ã€‚

`increment_path`å‡½æ•°ç”¨äºç”Ÿæˆä¸€ä¸ªé€’å¢çš„æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ã€‚å¦‚æœæŒ‡å®šçš„è·¯å¾„å·²ç»å­˜åœ¨ï¼Œä¸”`exist_ok`å‚æ•°ä¸º`False`ï¼Œåˆ™ä¼šåœ¨è·¯å¾„åé¢æ·»åŠ ä¸€ä¸ªæ•°å­—åç¼€ä»¥é¿å…å†²çªã€‚è¿™ä¸ªå‡½æ•°è¿˜å¯ä»¥é€‰æ‹©åˆ›å»ºç›®å½•ï¼Œæ–¹ä¾¿ç”¨æˆ·åœ¨éœ€è¦æ—¶è‡ªåŠ¨ç”Ÿæˆè·¯å¾„ã€‚

`file_age`å’Œ`file_date`å‡½æ•°ç”¨äºè·å–æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ã€‚`file_age`è¿”å›è‡ªä¸Šæ¬¡ä¿®æ”¹ä»¥æ¥çš„å¤©æ•°ï¼Œè€Œ`file_date`åˆ™è¿”å›ä¸€ä¸ªå¯è¯»çš„æ—¥æœŸæ ¼å¼ï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚

`file_size`å‡½æ•°ç”¨äºè®¡ç®—æ–‡ä»¶æˆ–ç›®å½•çš„å¤§å°ã€‚å®ƒå¯ä»¥è¿”å›æŒ‡å®šæ–‡ä»¶çš„å¤§å°ï¼Œæˆ–è€…è®¡ç®—ä¸€ä¸ªç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°ï¼Œç»“æœä»¥MBä¸ºå•ä½ã€‚

æœ€åï¼Œ`get_latest_run`å‡½æ•°ç”¨äºæŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹æœ€æ–°çš„`last.pt`æ–‡ä»¶ï¼Œè¿™é€šå¸¸ç”¨äºæ¨¡å‹è®­ç»ƒçš„æ¢å¤æ“ä½œã€‚å®ƒä¼šåœ¨æŒ‡å®šçš„æœç´¢ç›®å½•ä¸­é€’å½’æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„æ–‡ä»¶ï¼Œå¹¶è¿”å›æœ€æ–°çš„ä¸€ä¸ªã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ç³»åˆ—å®ç”¨çš„å·¥å…·å‡½æ•°å’Œç±»ï¼Œæ—¨åœ¨ç®€åŒ–æ–‡ä»¶å’Œç›®å½•çš„ç®¡ç†ï¼Œæå‡ç”¨æˆ·åœ¨ä½¿ç”¨YOLOæ¨¡å‹æ—¶çš„å·¥ä½œæ•ˆç‡ã€‚

#### 11.5 ultralytics\models\yolo\classify\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# å¯¼å…¥Ultralytics YOLOåº“ä¸­çš„åˆ†ç±»é¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯æ¨¡å—
from ultralytics.models.yolo.classify.predict import ClassificationPredictor  # å¯¼å…¥åˆ†ç±»é¢„æµ‹å™¨
from ultralytics.models.yolo.classify.train import ClassificationTrainer      # å¯¼å…¥åˆ†ç±»è®­ç»ƒå™¨
from ultralytics.models.yolo.classify.val import ClassificationValidator      # å¯¼å…¥åˆ†ç±»éªŒè¯å™¨

# å®šä¹‰æ¨¡å—çš„å…¬å¼€æ¥å£ï¼Œå…è®¸å¤–éƒ¨è®¿é—®è¿™äº›ç±»
__all__ = "ClassificationPredictor", "ClassificationTrainer", "ClassificationValidator"
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `ClassificationPredictor`ï¼šç”¨äºè¿›è¡Œåˆ†ç±»é¢„æµ‹çš„ç±»ï¼Œèƒ½å¤Ÿæ ¹æ®è¾“å…¥çš„æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚
   - `ClassificationTrainer`ï¼šç”¨äºè®­ç»ƒåˆ†ç±»æ¨¡å‹çš„ç±»ï¼Œè´Ÿè´£æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ã€‚
   - `ClassificationValidator`ï¼šç”¨äºéªŒè¯åˆ†ç±»æ¨¡å‹æ€§èƒ½çš„ç±»ï¼Œè¯„ä¼°æ¨¡å‹åœ¨éªŒè¯é›†ä¸Šçš„è¡¨ç°ã€‚

2. **`__all__`**ï¼š
   - è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Œç”¨äºå®šä¹‰æ¨¡å—çš„å…¬å¼€æ¥å£ã€‚å½“ä½¿ç”¨ `from module import *` æ—¶ï¼Œåªæœ‰åœ¨ `__all__` ä¸­åˆ—å‡ºçš„åç§°ä¼šè¢«å¯¼å…¥ã€‚è¿™æœ‰åŠ©äºæ§åˆ¶æ¨¡å—çš„å¯è§æ€§å’Œé˜²æ­¢ä¸å¿…è¦çš„åç§°å†²çªã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOæ¨¡å‹åº“ä¸­çš„ä¸€ä¸ªåˆå§‹åŒ–æ–‡ä»¶ï¼Œä¸»è¦ç”¨äºåˆ†ç±»ä»»åŠ¡ã€‚æ–‡ä»¶çš„å¼€å¤´åŒ…å«äº†ä¸€æ¡æ³¨é‡Šï¼Œè¡¨æ˜è¯¥é¡¹ç›®ä½¿ç”¨çš„æ˜¯AGPL-3.0è®¸å¯è¯ï¼Œå¹¶ä¸”æ˜¯Ultralytics YOLOçš„ç›¸å…³ä»£ç ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶é€šè¿‡`from`è¯­å¥å¯¼å…¥äº†ä¸‰ä¸ªé‡è¦çš„ç±»ï¼š`ClassificationPredictor`ã€`ClassificationTrainer`å’Œ`ClassificationValidator`ã€‚è¿™äº›ç±»åˆ†åˆ«è´Ÿè´£åˆ†ç±»ä»»åŠ¡ä¸­çš„é¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯åŠŸèƒ½ã€‚å…·ä½“æ¥è¯´ï¼Œ`ClassificationPredictor`ç”¨äºæ‰§è¡Œå›¾åƒåˆ†ç±»çš„é¢„æµ‹ï¼Œ`ClassificationTrainer`ç”¨äºè®­ç»ƒåˆ†ç±»æ¨¡å‹ï¼Œè€Œ`ClassificationValidator`åˆ™ç”¨äºéªŒè¯æ¨¡å‹çš„æ€§èƒ½ã€‚

æœ€åï¼Œ`__all__`å˜é‡è¢«å®šä¹‰ä¸ºä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«äº†ä¸Šè¿°ä¸‰ä¸ªç±»çš„åç§°ã€‚è¿™æ„å‘³ç€å½“ä½¿ç”¨`from ultralytics.models.yolo.classify import *`è¯­å¥æ—¶ï¼Œåªä¼šå¯¼å…¥è¿™ä¸‰ä¸ªç±»ï¼Œä»è€Œæ§åˆ¶äº†æ¨¡å—çš„å¯¼å‡ºå†…å®¹ï¼Œç¡®ä¿åªæš´éœ²å¿…è¦çš„æ¥å£ç»™ç”¨æˆ·ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ç»„ç»‡å’Œç®¡ç†ä¸YOLOåˆ†ç±»ç›¸å…³çš„åŠŸèƒ½æ¨¡å—ï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒã€é¢„æµ‹å’ŒéªŒè¯ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import os
import torch
import yaml
from ultralytics import YOLO  # å¯¼å…¥YOLOæ¨¡å‹åº“
from QtFusion.path import abs_path  # å¯¼å…¥è·¯å¾„å¤„ç†å·¥å…·

# ç¡®å®šä½¿ç”¨çš„è®¾å¤‡ï¼Œä¼˜å…ˆä½¿ç”¨GPU
device = "0" if torch.cuda.is_available() else "cpu"

if __name__ == '__main__':  # ç¡®ä¿è¯¥æ¨¡å—è¢«ç›´æ¥è¿è¡Œæ—¶æ‰æ‰§è¡Œä»¥ä¸‹ä»£ç 
    workers = 1  # æ•°æ®åŠ è½½çš„å·¥ä½œè¿›ç¨‹æ•°
    batch = 2    # æ¯ä¸ªæ‰¹æ¬¡çš„æ ·æœ¬æ•°

    data_name = "data"  # æ•°æ®é›†åç§°
    # è·å–æ•°æ®é›†é…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
    data_path = abs_path(f'datasets/{data_name}/{data_name}.yaml', path_type='current')  
    unix_style_path = data_path.replace(os.sep, '/')  # å°†è·¯å¾„è½¬æ¢ä¸ºUnixé£æ ¼

    # è·å–æ•°æ®é›†ç›®å½•è·¯å¾„
    directory_path = os.path.dirname(unix_style_path)
    
    # è¯»å–YAMLé…ç½®æ–‡ä»¶
    with open(data_path, 'r') as file:
        data = yaml.load(file, Loader=yaml.FullLoader)
    
    # å¦‚æœYAMLæ–‡ä»¶ä¸­æœ‰'path'é¡¹ï¼Œåˆ™æ›´æ–°ä¸ºå½“å‰ç›®å½•è·¯å¾„
    if 'path' in data:
        data['path'] = directory_path
        # å°†ä¿®æ”¹åçš„æ•°æ®å†™å›YAMLæ–‡ä»¶
        with open(data_path, 'w') as file:
            yaml.safe_dump(data, file, sort_keys=False)

    # åŠ è½½YOLOv8æ¨¡å‹é…ç½®
    model = YOLO(model='./ultralytics/cfg/models/v8/yolov8s.yaml', task='detect')  
    
    # å¼€å§‹è®­ç»ƒæ¨¡å‹
    results2 = model.train(
        data=data_path,  # æŒ‡å®šè®­ç»ƒæ•°æ®çš„é…ç½®æ–‡ä»¶è·¯å¾„
        device=device,   # æŒ‡å®šè®­ç»ƒè®¾å¤‡
        workers=workers, # æ•°æ®åŠ è½½çš„å·¥ä½œè¿›ç¨‹æ•°
        imgsz=640,       # è¾“å…¥å›¾åƒçš„å¤§å°
        epochs=100,      # è®­ç»ƒçš„è½®æ•°
        batch=batch,     # æ¯ä¸ªæ‰¹æ¬¡çš„æ ·æœ¬æ•°
        name='train_v8_' + data_name  # è®­ç»ƒä»»åŠ¡çš„åç§°
    )
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥å¿…è¦çš„åº“**ï¼šå¯¼å…¥æ“ä½œç³»ç»Ÿç›¸å…³çš„åº“ã€PyTorchã€YAMLå¤„ç†åº“ä»¥åŠYOLOæ¨¡å‹åº“ã€‚
2. **è®¾å¤‡é€‰æ‹©**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å¯ç”¨çš„GPUï¼Œå¦‚æœæœ‰åˆ™ä½¿ç”¨GPUï¼Œå¦åˆ™ä½¿ç”¨CPUã€‚
3. **ä¸»ç¨‹åºå…¥å£**ï¼šä½¿ç”¨`if __name__ == '__main__':`ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰æ‰§è¡Œåç»­ä»£ç ã€‚
4. **å‚æ•°è®¾ç½®**ï¼šè®¾ç½®æ•°æ®åŠ è½½çš„å·¥ä½œè¿›ç¨‹æ•°å’Œæ¯ä¸ªæ‰¹æ¬¡çš„æ ·æœ¬æ•°ã€‚
5. **æ•°æ®é›†è·¯å¾„å¤„ç†**ï¼šæ„å»ºæ•°æ®é›†é…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶è½¬æ¢ä¸ºUnixé£æ ¼è·¯å¾„ã€‚
6. **è¯»å–å’Œæ›´æ–°YAMLæ–‡ä»¶**ï¼šè¯»å–æ•°æ®é›†çš„YAMLé…ç½®æ–‡ä»¶ï¼Œæ›´æ–°å…¶ä¸­çš„è·¯å¾„ä¿¡æ¯ï¼Œå¹¶å°†ä¿®æ”¹åçš„å†…å®¹å†™å›æ–‡ä»¶ã€‚
7. **æ¨¡å‹åŠ è½½**ï¼šåŠ è½½YOLOv8æ¨¡å‹çš„é…ç½®æ–‡ä»¶ã€‚
8. **æ¨¡å‹è®­ç»ƒ**ï¼šè°ƒç”¨`train`æ–¹æ³•å¼€å§‹è®­ç»ƒæ¨¡å‹ï¼Œä¼ å…¥å¿…è¦çš„å‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®è·¯å¾„ã€è®¾å¤‡ã€å·¥ä½œè¿›ç¨‹æ•°ã€å›¾åƒå¤§å°ã€è®­ç»ƒè½®æ•°å’Œæ‰¹æ¬¡å¤§å°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` çš„ä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨ YOLOv8 æ¨¡å‹è¿›è¡Œç›®æ ‡æ£€æµ‹çš„è®­ç»ƒã€‚ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬ `os`ã€`torch`ã€`yaml` å’Œ `ultralytics` ä¸­çš„ YOLO æ¨¡å‹ã€‚æ¥ç€ï¼Œç¨‹åºä¼šæ ¹æ®ç³»ç»Ÿæ˜¯å¦æ”¯æŒ CUDA æ¥é€‰æ‹©è®¾å¤‡ï¼Œå¦‚æœæ”¯æŒåˆ™ä½¿ç”¨ GPUï¼ˆè®¾å¤‡ç¼–å·ä¸º "0"ï¼‰ï¼Œå¦åˆ™ä½¿ç”¨ CPUã€‚

åœ¨ `if __name__ == '__main__':` è¿™ä¸€å—ä»£ç ä¸­ï¼Œç¨‹åºé¦–å…ˆå®šä¹‰äº†ä¸€äº›è®­ç»ƒå‚æ•°ï¼Œæ¯”å¦‚å·¥ä½œè¿›ç¨‹æ•° `workers` å’Œæ‰¹æ¬¡å¤§å° `batch`ã€‚ç„¶åæŒ‡å®šäº†æ•°æ®é›†çš„åç§°ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ "data"ï¼Œå¹¶æ„é€ å‡ºæ•°æ®é›† YAML æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚ä¸ºäº†ç¡®ä¿è·¯å¾„åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸­éƒ½èƒ½æ­£ç¡®ä½¿ç”¨ï¼Œç¨‹åºå°†è·¯å¾„ä¸­çš„åˆ†éš”ç¬¦æ›¿æ¢ä¸º Unix é£æ ¼çš„æ–œæ ã€‚

æ¥ä¸‹æ¥ï¼Œç¨‹åºè·å–äº†æ•°æ®é›†ç›®å½•çš„è·¯å¾„ï¼Œå¹¶æ‰“å¼€æŒ‡å®šçš„ YAML æ–‡ä»¶ä»¥è¯»å–æ•°æ®ã€‚é€šè¿‡ `yaml.load` æ–¹æ³•è¯»å– YAML æ–‡ä»¶å†…å®¹åï¼Œç¨‹åºæ£€æŸ¥æ˜¯å¦å­˜åœ¨ `path` é¡¹ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å°†å…¶ä¿®æ”¹ä¸ºå½“å‰ç›®å½•è·¯å¾„ï¼Œå¹¶å°†ä¿®æ”¹åçš„å†…å®¹å†™å›åˆ° YAML æ–‡ä»¶ä¸­ï¼Œä»¥ç¡®ä¿æ•°æ®é›†è·¯å¾„çš„æ­£ç¡®æ€§ã€‚

ç„¶åï¼Œç¨‹åºåŠ è½½äº†é¢„è®­ç»ƒçš„ YOLOv8 æ¨¡å‹ï¼ŒæŒ‡å®šäº†æ¨¡å‹çš„é…ç½®æ–‡ä»¶è·¯å¾„å’Œä»»åŠ¡ç±»å‹ä¸ºç›®æ ‡æ£€æµ‹ã€‚æœ€åï¼Œç¨‹åºè°ƒç”¨ `model.train` æ–¹æ³•å¼€å§‹è®­ç»ƒæ¨¡å‹ï¼Œä¼ å…¥äº†ä¸€ç³»åˆ—å‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®é…ç½®æ–‡ä»¶è·¯å¾„ã€è®¾å¤‡é€‰æ‹©ã€å·¥ä½œè¿›ç¨‹æ•°ã€è¾“å…¥å›¾åƒå¤§å°ã€è®­ç»ƒçš„ epoch æ•°é‡ã€æ‰¹æ¬¡å¤§å°ä»¥åŠè®­ç»ƒä»»åŠ¡çš„åç§°ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™æ®µä»£ç å®ç°äº†ä»æ•°æ®é›†è·¯å¾„çš„è®¾ç½®åˆ°æ¨¡å‹è®­ç»ƒçš„å®Œæ•´æµç¨‹ï¼Œé€‚åˆç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„è®­ç»ƒã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

Ultralytics YOLOé¡¹ç›®æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†ç±»çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›é«˜æ•ˆã€æ˜“ç”¨çš„å·¥å…·æ¥è®­ç»ƒå’Œæ¨ç†YOLOæ¨¡å‹ã€‚è¯¥é¡¹ç›®çš„æ•´ä½“æ¶æ„ç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ¨¡å‹è®­ç»ƒã€é¢„æµ‹ã€éªŒè¯ã€æ–‡ä»¶ç®¡ç†å’Œç”¨æˆ·ç•Œé¢ç­‰ã€‚é€šè¿‡è¿™äº›æ¨¡å—ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæ•°æ®å‡†å¤‡ã€æ¨¡å‹è®­ç»ƒã€æ€§èƒ½è¯„ä¼°å’Œæ¨ç†ç­‰ä»»åŠ¡ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                         | åŠŸèƒ½æè¿°                                                                                  |
|--------------------------------------------------|-------------------------------------------------------------------------------------------|
| `ultralytics/models/rtdetr/train.py`            | å®ç°RT-DETRæ¨¡å‹çš„è®­ç»ƒï¼ŒåŒ…å«æ¨¡å‹åˆå§‹åŒ–ã€æ•°æ®é›†æ„å»ºã€éªŒè¯å™¨è®¾ç½®å’Œæ‰¹å¤„ç†é¢„å¤„ç†ç­‰åŠŸèƒ½ã€‚      |
| `ultralytics/__init__.py`                       | åˆå§‹åŒ–Ultralytics YOLOåº“ï¼Œå®šä¹‰ç‰ˆæœ¬å·ï¼Œå¯¼å…¥æ¨¡å‹å’Œå·¥å…·å‡½æ•°ï¼Œè®¾ç½®å…¬å…±æ¥å£ã€‚                |
| `ui.py`                                         | æä¾›ä¸€ä¸ªæ¥å£æ¥è¿è¡ŒStreamlitåº”ç”¨è„šæœ¬ï¼Œæ–¹ä¾¿ç”¨æˆ·åœ¨å½“å‰Pythonç¯å¢ƒä¸­å¯åŠ¨å’Œæµ‹è¯•åº”ç”¨ã€‚         |
| `ultralytics/utils/files.py`                    | æä¾›æ–‡ä»¶å’Œç›®å½•ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€è·¯å¾„å¤„ç†ã€æ–‡ä»¶å¤§å°è®¡ç®—å’Œæœ€æ–°æ¨¡å‹æŸ¥æ‰¾ç­‰åŠŸèƒ½ã€‚  |
| `ultralytics/models/yolo/classify/__init__.py` | åˆå§‹åŒ–YOLOåˆ†ç±»æ¨¡å—ï¼Œå¯¼å…¥åˆ†ç±»é¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯ç›¸å…³çš„ç±»ã€‚                                  |
| `train.py`                                      | è´Ÿè´£YOLOv8æ¨¡å‹çš„è®­ç»ƒï¼ŒåŒ…æ‹¬æ•°æ®é›†è·¯å¾„è®¾ç½®ã€æ¨¡å‹åŠ è½½å’Œè®­ç»ƒå‚æ•°é…ç½®ç­‰ã€‚                   |
| `ultralytics/trackers/utils/gmc.py`            | æä¾›ä¸å›¾åƒå¤„ç†å’Œè·Ÿè¸ªç›¸å…³çš„å·¥å…·å‡½æ•°ï¼Œå…·ä½“åŠŸèƒ½æœªè¯¦ç»†åˆ†æã€‚                                |
| `ultralytics/models/fastsam/predict.py`        | å®ç°FastSAMæ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œå…·ä½“ç»†èŠ‚æœªè¯¦ç»†åˆ†æã€‚                                         |
| `web.py`                                        | æä¾›Webç•Œé¢åŠŸèƒ½ï¼Œå¯èƒ½ç”¨äºå±•ç¤ºæ¨¡å‹ç»“æœæˆ–ä¸ç”¨æˆ·äº¤äº’ï¼Œå…·ä½“ç»†èŠ‚æœªè¯¦ç»†åˆ†æã€‚                  |
| `ultralytics/models/yolo/pose/train.py`        | å®ç°YOLOå§¿æ€ä¼°è®¡æ¨¡å‹çš„è®­ç»ƒï¼Œå…·ä½“åŠŸèƒ½æœªè¯¦ç»†åˆ†æã€‚                                        |

ä»¥ä¸Šè¡¨æ ¼æ€»ç»“äº†å„ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œä¾¿äºç”¨æˆ·ç†è§£Ultralytics YOLOé¡¹ç›®çš„ç»“æ„å’ŒåŠŸèƒ½æ¨¡å—ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)

#å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–é“¾æ¥

https://mbd.pub/o/bread/ZpqUlZdy